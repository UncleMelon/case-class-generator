package caseclass.generator
import artisinal.pickle.maker._
import scala.reflect.internal.pickling._
import org.objectweb.asm._
import Opcodes._


import java.util.Arrays
import scala.io.Codec._
case class ScalaSigAnnotation(cw: ClassWriter, var av0: AnnotationVisitor, mySig: ScalaSig) {
// actual sigs for debug purposes: ex.the sig for string, int, boolean
val sig = "\u0006\u0001\u0005\rc\u0001B\u0001\u0003\u0001\u0016\u0011\u0001\"T=SK\u000e|'\u000f\u001a\u0006\u0002\u0007\u00051Qn\u001c3fYN\u001c\u0001a\u0005\u0003\u0001\r1y\u0001CA\u0004\u000b\u001b\u0005A!\"A\u0005\u0002\u000bM\u001c\u0017\r\\1\n\u0005-A!AB!osJ+g\r\u0005\u0002\u0008\u001b%\u0011a\u0002\u0003\u0002\u0008!J|G-^2u!\u00099\u0001#\u0003\u0002\u0012\u0011\u0009a1+\u001a:jC2L'0\u00192mK\"A1\u0003\u0001BK\u0002\u0013\u0005A#A\u0001y+\u0005)\u0002C\u0001\u000c\u001a\u001d\u00099q#\u0003\u0002\u0019\u0011\u00051\u0001K]3eK\u001aL!AG\u000e\u0003\rM#(/\u001b8h\u0015\u0009A\u0002\u0002\u0003\u0005\u001e\u0001\u0009E\u0009\u0015!\u0003\u0016\u0003\u0009A\u0008\u0005\u0003\u0005 \u0001\u0009U\r\u0011\"\u0001!\u0003\u0005IX#A\u0011\u0011\u0005\u001d\u0011\u0013BA\u0012\u0009\u0005\rIe\u000e\u001e\u0005\u0009K\u0001\u0011\u0009\u0012)A\u0005C\u0005\u0011\u0011\u0010\u0009\u0005\u0009O\u0001\u0011)\u001a!C\u0001Q\u0005\u0009!0F\u0001*!\u00099!&\u0003\u0002,\u0011\u00099!i\\8mK\u0006t\u0007\u0002C\u0017\u0001\u0005#\u0005\u000b\u0011B\u0015\u0002\u0005i\u0004\u0003\"B\u0018\u0001\u0009\u0003\u0001\u0014A\u0002\u001fj]&$h\u0008\u0006\u00032gQ*\u0004C\u0001\u001a\u0001\u001b\u0005\u0011\u0001\"B\n/\u0001\u0004)\u0002\"B\u0010/\u0001\u0004\u0009\u0003\"B\u0014/\u0001\u0004I\u0003bB\u001c\u0001\u0003\u0003%\u0009\u0001O\u0001\u0005G>\u0004\u0018\u0010\u0006\u00032siZ\u0004bB\n7!\u0003\u0005\r!\u0006\u0005\u0008?Y\u0002\n\u00111\u0001\"\u0011\u001d9c\u0007%AA\u0002%Bq!\u0010\u0001\u0012\u0002\u0013\u0005a(\u0001\u0008d_BLH\u0005Z3gCVdG\u000fJ\u0019\u0016\u0003}R#!\u0006!,\u0003\u0005\u0003\"AQ$\u000e\u0003\rS!\u0001R#\u0002\u0013Ut7\r[3dW\u0016$'B\u0001$\u0009\u0003)\u0009gN\\8uCRLwN\\\u0005\u0003\u0011\u000e\u0013\u0011#\u001e8dQ\u0016\u001c7.\u001a3WCJL\u0017M\\2f\u0011\u001dQ\u0005!%A\u0005\u0002-\u000babY8qs\u0012\"WMZ1vYR$#'F\u0001MU\u0009\u0009\u0003\u0009C\u0004O\u0001E\u0005I\u0011A(\u0002\u001d\r|\u0007/\u001f\u0013eK\u001a\u000cW\u000f\u001c;%gU\u0009\u0001K\u000b\u0002*\u0001\"9!\u000bAA\u0001\n\u0003\u001a\u0016!\u00049s_\u0012,8\r\u001e)sK\u001aL\u00070F\u0001U!\u0009)&,D\u0001W\u0015\u00099\u0006,\u0001\u0003mC:<'\"A-\u0002\u0009)\u000cg/Y\u0005\u00035YCq\u0001\u0018\u0001\u0002\u0002\u0013\u0005\u0001%\u0001\u0007qe>$Wo\u0019;Be&$\u0018\u0010C\u0004_\u0001\u0005\u0005I\u0011A0\u0002\u001dA\u0014x\u000eZ;di\u0016cW-\\3oiR\u0011\u0001m\u0019\u0009\u0003\u000f\u0005L!A\u0019\u0005\u0003\u0007\u0005s\u0017\u0010C\u0004e;\u0006\u0005\u0009\u0019A\u0011\u0002\u0007a$\u0013\u0007C\u0004g\u0001\u0005\u0005I\u0011I4\u0002\u001fA\u0014x\u000eZ;di&#XM]1u_J,\u0012\u0001\u001b\u0009\u0004S2\u0004W\"\u00016\u000b\u0005-D\u0011AC2pY2,7\r^5p]&\u0011QN\u001b\u0002\u0009\u0013R,'/\u0019;pe\"9q\u000eAA\u0001\n\u0003\u0001\u0018\u0001C2b]\u0016\u000bX/\u00197\u0015\u0005%\n\u0008b\u00023o\u0003\u0003\u0005\r\u0001\u0019\u0005\u0008g\u0002\u0009\u0009\u0011\"\u0011u\u0003!A\u0017m\u001d5D_\u0012,G#A\u0011\u0009\u000fY\u0004\u0011\u0011!C!o\u0006AAo\\*ue&tw\rF\u0001U\u0011\u001dI\u0008!!A\u0005Bi\u000ca!Z9vC2\u001cHCA\u0015|\u0011\u001d!\u00070!AA\u0002\u0001<q! \u0002\u0002\u0002#\u0005a0\u0001\u0005NsJ+7m\u001c:e!\u0009\u0011tP\u0002\u0005\u0002\u0005\u0005\u0005\u0009\u0012AA\u0001'\u0011y\u00181A\u0008\u0011\u0011\u0005\u0015\u00111B\u000b\"SEj!!a\u0002\u000b\u0007\u0005%\u0001\"A\u0004sk:$\u0018.\\3\n\u0009\u00055\u0011q\u0001\u0002\u0012\u0003\n\u001cHO]1di\u001a+hn\u0019;j_:\u001c\u0004BB\u0018\u0000\u0009\u0003\u0009\u0009\u0002F\u0001\u0011\u001d1x0!A\u0005F]D\u0011\"a\u0006\u0000\u0003\u0003%\u0009)!\u0007\u0002\u000b\u0005\u0004\u0008\u000f\\=\u0015\u000fE\nY\"!\u0008\u0002 !11#!\u0006A\u0002UAaaHA\u000b\u0001\u0004\u0009\u0003BB\u0014\u0002\u0016\u0001\u0007\u0011\u0006C\u0005\u0002$}\u000c\u0009\u0011\"!\u0002&\u00059QO\\1qa2LH\u0003BA\u0014\u0003g\u0001RaBA\u0015\u0003[I1!a\u000b\u0009\u0005\u0019y\u0005\u000f^5p]B1q!a\u000c\u0016C%J1!!\r\u0009\u0005\u0019!V\u000f\u001d7fg!I\u0011QGA\u0011\u0003\u0003\u0005\r!M\u0001\u0004q\u0012\u0002\u0004\"CA\u001d\u0006\u0005I\u0011BA\u001e\u0003-\u0011X-\u00193SKN|GN^3\u0015\u0005\u0005u\u0002cA+\u0002@%\u0019\u0011\u0011\u0009,\u0003\r=\u0013'.Z2u\u0001"

//String
val stringSig = "\u0006\u0001\u0005=a\u0001B\u0001\u0003\u0001\u0016\u0011\u0001\"T=SK\u000e|'\u000f\u001a\u0006\u0002\u0007\u00051Qn\u001c3fYN\u001c\u0001a\u0005\u0003\u0001\r1y\u0001CA\u0004\u000b\u001b\u0005A!\"A\u0005\u0002\u000bM\u001c\u0017\r\\1\n\u0005-A!AB!osJ+g\r\u0005\u0002\u0008\u001b%\u0011a\u0002\u0003\u0002\u0008!J|G-^2u!\u00099\u0001#\u0003\u0002\u0012\u0011\u0009a1+\u001a:jC2L'0\u00192mK\"A1\u0003\u0001BK\u0002\u0013\u0005A#A\u0001y+\u0005)\u0002C\u0001\u000c\u001a\u001d\u00099q#\u0003\u0002\u0019\u0011\u00051\u0001K]3eK\u001aL!AG\u000e\u0003\rM#(/\u001b8h\u0015\u0009A\u0002\u0002\u0003\u0005\u001e\u0001\u0009E\u0009\u0015!\u0003\u0016\u0003\u0009A\u0008\u0005C\u0003 \u0001\u0011\u0005\u0001%\u0001\u0004=S:LGO\u0010\u000b\u0003C\r\u0002\"A\u0009\u0001\u000e\u0003\u0009AQa\u0005\u0010A\u0002UAq!\n\u0001\u0002\u0002\u0013\u0005a%\u0001\u0003d_BLHCA\u0011(\u0011\u001d\u0019B\u0005%AA\u0002UAq!\u000b\u0001\u0012\u0002\u0013\u0005!&\u0001\u0008d_BLH\u0005Z3gCVdG\u000fJ\u0019\u0016\u0003-R#!\u0006\u0017,\u00035\u0002\"AL\u001a\u000e\u0003=R!\u0001M\u0019\u0002\u0013Ut7\r[3dW\u0016$'B\u0001\u001a\u0009\u0003)\u0009gN\\8uCRLwN\\\u0005\u0003i=\u0012\u0011#\u001e8dQ\u0016\u001c7.\u001a3WCJL\u0017M\\2f\u0011\u001d1\u0004!!A\u0005B]\nQ\u0002\u001d:pIV\u001cG\u000f\u0015:fM&DX#\u0001\u001d\u0011\u0005erT\"\u0001\u001e\u000b\u0005mb\u0014\u0001\u00027b]\u001eT\u0011!P\u0001\u0005U\u00064\u0018-\u0003\u0002\u001bu!9\u0001\u0009AA\u0001\n\u0003\u0009\u0015\u0001\u00049s_\u0012,8\r^!sSRLX#\u0001\"\u0011\u0005\u001d\u0019\u0015B\u0001#\u0009\u0005\rIe\u000e\u001e\u0005\u0008\r\u0002\u0009\u0009\u0011\"\u0001H\u00039\u0001(o\u001c3vGR,E.Z7f]R$\"\u0001S&\u0011\u0005\u001dI\u0015B\u0001&\u0009\u0005\r\u0009e.\u001f\u0005\u0008\u0019\u0016\u000b\u0009\u00111\u0001C\u0003\rAH%\r\u0005\u0008\u001d\u0002\u0009\u0009\u0011\"\u0011P\u0003=\u0001(o\u001c3vGRLE/\u001a:bi>\u0014X#\u0001)\u0011\u0007E#\u0006*D\u0001S\u0015\u0009\u0019\u0006\"\u0001\u0006d_2dWm\u0019;j_:L!!\u0016*\u0003\u0011%#XM]1u_JDqa\u0016\u0001\u0002\u0002\u0013\u0005\u0001,\u0001\u0005dC:,\u0015/^1m)\u0009IF\u000c\u0005\u0002\u00085&\u00111\u000c\u0003\u0002\u0008\u0005>|G.Z1o\u0011\u001dae+!AA\u0002!CqA\u0018\u0001\u0002\u0002\u0013\u0005s,\u0001\u0005iCND7i\u001c3f)\u0005\u0011\u0005bB1\u0001\u0003\u0003%\u0009EY\u0001\u0009i>\u001cFO]5oOR\u0009\u0001\u0008C\u0004e\u0001\u0005\u0005I\u0011I3\u0002\r\u0015\u000cX/\u00197t)\u0009If\rC\u0004MG\u0006\u0005\u0009\u0019\u0001%\u0008\u000f!\u0014\u0011\u0011!E\u0001S\u0006AQ*\u001f*fG>\u0014H\r\u0005\u0002#U\u001a9\u0011AAA\u0001\u0012\u0003Y7c\u00016m\u001fA!Q\u000e]\u000b\"\u001b\u0005q'BA8\u0009\u0003\u001d\u0011XO\u001c;j[\u0016L!!\u001d8\u0003#\u0005\u00137\u000f\u001e:bGR4UO\\2uS>t\u0017\u0007C\u0003 U\u0012\u00051\u000fF\u0001j\u0011\u001d\u0009'.!A\u0005F\u0009DqA\u001e6\u0002\u0002\u0013\u0005u/A\u0003baBd\u0017\u0010\u0006\u0002\"q\")1#\u001ea\u0001+!9!P[A\u0001\n\u0003[\u0018aB;oCB\u0004H.\u001f\u000b\u0003y~\u00042aB?\u0016\u0013\u0009q\u0008B\u0001\u0004PaRLwN\u001c\u0005\u0007\u0003\u0003I\u0008\u0019A\u0011\u0002\u0007a$\u0003\u0007C\u0005\u0002\u0006)\u000c\u0009\u0011\"\u0003\u0002\u0008\u0005Y!/Z1e%\u0016\u001cx\u000e\u001c<f)\u0009\u0009I\u0001E\u0002:\u0003\u0017I1!!\u0004;\u0005\u0019y%M[3di\u0002"


  def dump = {
    av0 = cw.visitAnnotation("Lscala/reflect/ScalaSignature;", true);
   // av0.visit("bytes", new String(ByteCodecs.encode(mySig.bytes).dropRight(1)));
    av0.visit("bytes", mySig.bytes);
    //av0.visit("bytes", sig);

    av0.visitEnd();
  }
/*
tryign to debug an encoding bug:


val str = new String(ByteCodecs.encode(mySig.bytes))
println(str.toCharArray.length)

val strSigArray = Arrays.copyOf(str.getBytes("UTF-8"), (ByteCodecs.decode(str.getBytes("UTF-8")))-1)

val reStr = new String(ByteCodecs.encode(strSigArray))
println(str.length == strSigArray.length)

println("mySig Decoded length: " + strSigArray.length)
val sigArray = Arrays.copyOf(sig.getBytes("UTF-8"), (ByteCodecs.decode(sig.getBytes("UTF-8")))-1)
println("sig Decoded length: " + sigArray.length)


val mySigArray = (Arrays.copyOf(str.getBytes("UTF-8"), ByteCodecs.decode(str.getBytes)))

println("+______________++++++++++++++++++_______________________+++++++++++++++++++")

*/



}
